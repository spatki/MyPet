@{
    Layout = null;
}

@if (@User.Identity.IsAuthenticated)
{
    @Html.Action("BreadCrump", "Menu", new { id = ViewBag.FunctionID })
                <div class="row">
            
                <div class="col-md-12">
					<div class="panel colored">


                    <div class="panel-body">
                       <div class="row">
                            <div class="form-group">
                                <label class="col-md-2">Select Project</label>
                                <div class="controls col-md-10"><select class="col-md-12 chzn-nopadd chzn-select-no-single"><option>Payroll System</option> <option>Code Migration</option></select></div>
                            </div>
                       </div>
                        <hr />
                        <ul class="nav nav-tabs" id="myTab">
                          <li class="active"><a data-toggle="tab" href="#AllocEmployee">Resource Plan</a></li>
                          <li><a data-toggle="tab" href="#ExistingEmployees">Current Allocations</a></li>
                          <li><a data-toggle="tab" href="#EmpHistory">Allocation History</a></li>
                        </ul>

                        <div class="tab-content" id="myTabContent">
                            <div id="AllocEmployee" class="tab-pane fade in active">
                                <div class="page-header">
                                    <h3>Resource Planning</h3>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="panel colored">
                                        <div class="panel-body">					
                                            <div class="row">
                                                <div class="pull-right">
                                                    <label>Status Legend: </label>
                                                    <div class="btn btn-sm gray-bg" data-toggle="modal">Not Sent for Approval</div>
                                                    <div class="btn btn-sm blue-bg" data-toggle="modal">Sent for Approval</div>
                                                    <div class="btn btn-sm green-bg" data-toggle="modal">Approved</div>
                                                    <div class="btn btn-sm red-bg" data-toggle="modal">Rejected</div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <table  class="table table-striped table-bordered">
                                                    <thead>
                                                        <tr>
                                                        <th></th>
                                                        <th>Role</th>
                                                        <th>Location</th>
                                                        <th>From</th>
                                                        <th>To</th>
                                                        <th>Count</th>
                                                        <th>Allocation %</th>
                                                        <th class="hidden-sm">Group</th>
                                                        <th class="hidden-sm">Created Date</th>
                                                        <th class="hidden-sm">Remarks</th>
                                                        <th class="hidden-sm">Type</th>
                                                        <th class="hidden-sm">Status</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody data-count="1">
                                                        <tr>
                                                            <td></td>
                                                            <td >Developer</td>
                                                            <td >Mumbai</td>
                                                            <td >01/01/2014</td>
                                                            <td >15/05/2014</td>
                                                            <td >10</td>
                                                            <td >100</td>
                                                            <td ></td>
                                                            <td >14/12/2013</td>
                                                            <td >As per Approved Estimates</td>
	                                                        <td >Planned</td>
	                                                        <td><a href="#reqPlanAprv" class="btn btn-med green-bg" data-toggle="modal">View</a></td>
                                                        </tr>
                                                        <tr>
                                                            <td></td>
                                                            <td >Sr. Architect</td>
                                                            <td >Mumbai</td>
                                                            <td >05/01/2014</td>
                                                            <td >15/05/2014</td>
                                                            <td >1</td>
                                                            <td >5</td>
                                                            <td >Design</td>
                                                            <td >01/01/2014</td>
                                                            <td >Un-Planned</td>
	                                                        <td >Planned</td>
	                                                        <td><a href="#reqPlanAprv" class="btn btn-med red-bg" data-toggle="modal">View</a></td>
                                                        </tr>
                                                        <tr id="R1">
                                                            <td><a href="#" data-id="R1" class="addResource" data-toggle="modal" data-tableid="HDocDetails" data-key="R"><i class="icon-">&#xf055</i></a></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="panel-footer">
		                                        <button type="button" class="btn blue-bg pull" id="Button1" data-dismiss="modal">Submit For Approval</button>
		                                    </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="ExistingEmployees" class="tab-pane">
                                <div class="panel colored">
                                    <div class="panel-body">					
                    	                <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="exitingEmployees">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Emp Code</th>
                                            <th>Name</th>
                                            <th>Designation</th>
                                            <th>Location</th>
                                            <th>Role</th>
                                            <th class="hidden-sm">Effective Date</th>
                                            <th class="hidden-sm">Reporting To</th>
                                            <th>Details</th>
                                            <th>Release</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                              
                                            <tr>
                                                <td>1</td> 
                                                <td>E001</td> 
                                                <td>Swaraj Singh</td> 
                                                <td>Project Manager</td> 
                                                <td>Mumbai</td> 
                                                <td>Project Manager</td> 
                                                <td>23-Mar-12</td> 
                                                <td>Sandeep Honawar</td> 
                                                <td><a href="#empDetails" class="btn btn-med blue-bg" data-toggle="modal"><i class="icon-">&#xf06e;</i></a></td>
                                                <td><a href="#confirmModal" class="btn btn-med red-bg  releaseEmp" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                        </tr>
                         
                                            <tr>
                                                <td>2</td> 
                                                <td>E002</td> 
                                                <td>Rajesh Singh</td> 
                                                <td>Project Leader</td> 
                                                <td>Mumbai</td> 
                                                <td>Project Leader</td> 
                                                <td>13-Apr-12</td> 
                                                <td>Swaraj Singh</td> 
                                                <td><a href="#empDetails" class="btn btn-med blue-bg" data-toggle="modal"><i class="icon-">&#xf06e;</i></a></td>
                                                <td><a href="#confirmModal" class="btn btn-med red-bg  releaseEmp" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                       </tr>
                                            <tr>
                                                <td>3</td> 
                                                <td>E003</td> 
                                                <td>Swapnil Patil</td> 
                                                <td>Developer</td> 
                                                <td>Mumbai</td> 
                                                <td>Programmer</td> 
                                                <td>1-Apr-12</td> 
                                                <td>Rajesh Singh</td> 
                                                <td><a href="#empDetails" class="btn btn-med blue-bg" data-toggle="modal"><i class="icon-">&#xf06e;</i></a></td>
                                                <td><a href="#confirmModal" class="btn btn-med red-bg  releaseEmp" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                        </tr>
                                    </tbody>
                                </table>
                                    </div>
                                </div>
                            </div>
                            <div id="EmpHistory" class="tab-pane">
                                <div class="panel colored">
                                    <div class="panel-body">					
                    	                <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="EmpHistTable">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Emp Code</th>
                                            <th>Name</th>
                                            <th>Designation</th>
                                            <th>Location</th>
                                            <th>Role</th>
                                            <th class="hidden-sm">Reporting To</th>
                                            <th class="hidden-sm">Date Assigned</th>
                                            <th>Release Date</th>
                                            <th>Details</th>
                                        </tr>
                                    </thead>
                                    <tbody>                              
                                        <tr>
                                                <td>1</td> 
                                                <td>E004</td> 
                                                <td>Sushma Swaraj</td> 
                                                <td>Project Manager</td> 
                                                <td>Mumbai</td> 
                                                <td>Project Manager</td> 
                                                <td>Sandeep Honawar</td> 
                                                <td>01-Jan-12</td> 
                                                <td>30-Mar-12</td> 
                                                <td><a href="#reqHistDetails" class="btn btn-med blue-bg" data-toggle="modal"><i class="icon-">&#xf06e;</i></a></td>
                                        </tr>
                                        <tr>
                                                <td>2</td> 
                                                <td>E012</td> 
                                                <td>Geeta Mehta</td> 
                                                <td>Delivery Manager</td> 
                                                <td>Mumbai</td> 
                                                <td>Senior Delivery Manager</td> 
                                                <td>Swapnil Joshi</td> 
                                                <td>12-Feb-10</td> 
                                                <td>30-Mar-12</td> 
                                                <td><a href="#reqHistDetails" class="btn btn-med blue-bg" data-toggle="modal"><i class="icon-">&#xf06e;</i></a></td>
                                        </tr>
                                    </tbody>
                                </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                </div> 
                                                
        	</div> 
    <!-- Modal -->
    <div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
	  <div class="modal-content">
		<div class="modal-header">
		  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		  <h4 class="modal-title">Employee Release</h4>
		</div>
		<div class="modal-body">
        <input type="hidden" name="releaseEmpID" id="releaseEmpID" value="" />
            <ul class="nav nav-tabs" id="ReleaseDet">
                <li class="active"><a data-toggle="tab" href="#RDetails">Release Details</a></li>
                <li><a data-toggle="tab" href="#RSuppDocs">Supporting Documents</a></li>
            </ul>

            <div class="tab-content" id="releasecontents">
                <div id="RDetails" class="tab-pane fade in active">
                    <div class="panel">
                        <div class="panel-body">
                    <div class="row">
                        <div class="form-group">
                            <label class="col-md-3">Release Date:</label>
                            <div class="input-group date datepicker col-md-8">
                                <input type="text" class="form-control">
                                <span class="input-group-addon  accordion-toggle"><i data-time-icon="icon-time" data-date-icon="icon-calendar" class="icon-calendar"></i></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group">
                            <label class="col-md-3">Release By:</label>
                            <label class="col-md-8 control-label">Sandeep Honawar</label>
                        </div>
                    </div>
                     <hr />
                    <div class="row">
                        <div class="form-group col-md-11">
                            <label >Release Comments</label>
                            <div class="controls"><textarea rows="4" class="form-control"></textarea></div>
                        </div>
                    </div>
                        </div>
                    </div>
                </div>
                <div id="RSuppDocs" class="tab-pane">
                    <div class="row">
                                    <div class="col-md-12 notification blue-bg">
                 	                     <strong>Supporing Documents</strong> : Upload supporting documents here, click to close this. 
                                    </div>
                                </div>
                    <br />
                    <div class="row">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th class="col-md-1"></th>
                                                <th>Doc Type</th>
                                                <th>Name</th>
                                                <th>Owner</th>
                                                <th>Remarks</th>
                                            </tr>
                                        </thead>
                                        <tbody id="supportingDocs" data-count="1">
                                            <tr id="D1">
                                                <td><a href="#" data-id="D1" class="addDoc" data-toggle="modal" data-tableid="supportingDocs" data-key="D"><i class="icon-plus-sign"></i></a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                </div>
            </div>
		</div>

		<div class="modal-footer">
		  <button type="button" class="btn gray-bg" data-dismiss="modal">Cancel</button>
		  <button type="button" class="btn blue-bg" id="deleteRole" data-dismiss="modal">Confirm Release</button>
		</div>
	  </div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->


    <!-- Responsive Modal -->
    <div class="modal fade" id="empAllocation" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" style="width:800px;">
	  <div class="modal-content">
		<div class="modal-header">
		  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		  <h4 class="modal-title">Allocation Details</h4>
		</div>
		<div class="modal-body">
            <ul class="nav nav-tabs" id="allocTab">
                <li class="active"><a data-toggle="tab" href="#ADetails">Allocation Details</a></li>
                <li><a data-toggle="tab" href="#ASuppDocs">Supporting Documents</a></li>
            </ul>
            <div class="tab-content" id="allocTabDetails">
                <div id="ADetails" class="tab-pane fade in active">
                    <br />
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">From:</label>
                                <div class="input-group date datepicker col-md-7">
                                    <input type="text" class="form-control">
                                    <span class="input-group-addon  accordion-toggle"><i data-time-icon="icon-time" data-date-icon="icon-calendar" class="icon-calendar"></i></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">To:</label>
                                <div class="input-group date datepicker col-md-7">
                                    <input type="text" class="form-control">
                                    <span class="input-group-addon  accordion-toggle"><i data-time-icon="icon-time" data-date-icon="icon-calendar" class="icon-calendar"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Role</label>
                                <div class="controls col-md-7"><select class="chzn-nopadd chzn-select-no-single"><option>Project Manager</option> <option>Project Leader</option> <option>Programmer</option> <option>Tester</option> <option>DBA</option> <option>QA</option>  <option>Technical Architect</option></select></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Allocation %</label>
                                <div class="controls col-md-7"><input type="hidden" class="slider col-md-12" value="20" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="50" data-slider-orientation="horizontal" data-slider-selection="after" data-slider-handle="square" data-slider-tooltip="show"></div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Group</label>
                                <div class="controls col-md-7"><select class="chzn-nopadd chzn-select-no-single"><option>Design Team</option> <option>Employee Module</option> <option>Salary Processing Module</option> <option>UI Team</option></select></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Reporting To</label>
                                <div class="controls col-md-7"><select class="chzn-nopadd chzn-select-no-single"><option>Sandeep Honawar</option> <option>Swaraj Singh</option> <option>Rajesh Singh</option></select></div>
                            </div>
                        </div>
                    </div>
                        <hr />
                    <div class="row">
                        <div class="form-group col-md-11">
                            <label >Allocation Comments</label>
                            <div class="controls"><textarea rows="4" class="form-control">Allocated based on requisition</textarea></div>
                        </div>
                    </div>
                </div>
                <div id="ASuppDocs" class="tab-pane">
                    <div class="row">
                                    <div class="col-md-12 notification blue-bg">
                 	                     <strong>Supporing Documents</strong> : Upload supporting documents here, click to close this. 
                                    </div>
                                </div>
                    <br />
                    <div class="row">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th class="col-md-1"></th>
                                                <th>Doc Type</th>
                                                <th>Name</th>
                                                <th>Owner</th>
                                                <th>Remarks</th>
                                            </tr>
                                        </thead>
                                        <tbody id="AsupportingDocs" data-count="1">
                                            <tr id="A1">
                                                <td><a href="#" data-id="A1" class="addDoc" data-toggle="modal" data-tableid="AsupportingDocs" data-key="A"><i class="icon-plus-sign"></i></a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                </div>
            </div>       
		</div>
		<div class="modal-footer">
		    <button type="button" class="btn gray-bg" data-dismiss="modal">Close</button>
		    <button type="button" class="btn blue-bg" id="addNewRole" data-dismiss="modal">Submit</button>
		</div>
	  </div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

    <div class="modal fade" id="empDetails" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" style="width:800px;">
	  <div class="modal-content">
		<div class="modal-header">
		  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		  <h4 class="modal-title">Allocation Details</h4>
		</div>
		<div class="modal-body">
            <ul class="nav nav-tabs" id="Ul1">
                <li class="active"><a data-toggle="tab" href="#HDetails">Allocation Details</a></li>
                <li><a data-toggle="tab" href="#HSuppDocs">Supporting Documents</a></li>
                <li><a data-toggle="tab" href="#HAllocHistory">Allocation History</a></li>
            </ul>
            <div class="tab-content" id="HTabContents">
                <div id="HDetails" class="tab-pane fade in active">
                    <br />
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">From:</label>
                                <div class="input-group date datepicker col-md-7">
                                    <input type="text" class="form-control" value="01/01/2013">
                                    <span class="input-group-addon  accordion-toggle"><i data-time-icon="icon-time" data-date-icon="icon-calendar" class="icon-calendar"></i></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">To:</label>
                                <div class="input-group date datepicker col-md-7">
                                    <input type="text" class="form-control" value="30/12/2013">
                                    <span class="input-group-addon  accordion-toggle"><i data-time-icon="icon-time" data-date-icon="icon-calendar" class="icon-calendar"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Role</label>
                                <div class="controls col-md-7"><select class="chzn-nopadd chzn-select-no-single"><option selected="selected">Project Manager</option> <option>Project Leader</option> <option>Programmer</option> <option>Tester</option> <option>DBA</option> <option>QA</option>  <option>Technical Architect</option></select></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Allocation %</label>
                                <div class="controls col-md-7"><input type="hidden" class="slider col-md-12" value="20" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="100" data-slider-orientation="horizontal" data-slider-selection="after" data-slider-handle="square" data-slider-tooltip="show"></div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Group</label>
                                <div class="controls col-md-7"><select class="chzn-nopadd chzn-select-no-single"><option>Design Team</option> <option>Employee Module</option> <option>Salary Processing Module</option> <option>UI Team</option></select></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Reporting To</label>
                                <div class="controls col-md-7"><select class="chzn-nopadd chzn-select-no-single"><option>Sandeep Honawar</option> <option>Swaraj Singh</option> <option>Rajesh Singh</option></select></div>
                            </div>
                        </div>
                    </div>
                        <hr />
                    <div class="row">
                        <div class="form-group col-md-11">
                            <label >Allocation Comments</label>
                            <div class="controls"><textarea rows="4" class="form-control"></textarea></div>
                        </div>
                    </div>
                </div>
                <div id="HSuppDocs" class="tab-pane">
                    <div class="row">
                        <div class="col-md-12 notification blue-bg">
                 	            <strong>Supporing Documents</strong> : Upload supporting documents here, click to close this. 
                        </div>
                    </div>
                    <br />
                    <div class="row">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th class="col-md-1"></th>
                                                <th>Doc Type</th>
                                                <th>Name</th>
                                                <th>Owner</th>
                                                <th>Remarks</th>
                                            </tr>
                                        </thead>
                                        <tbody id="HDocDetails" data-count="2">
                                            <tr id="H1">
                                                <td></td>
                                                <td>Resource Request</td> 
                                                <td><a href="#" data-toggle="modal" class="showDocumentData">Req_Form.xls</a></td>
                                                <td>Sunil Garg</td>
                                                <td>Requisition Form approved by SDM</td>
                                            </tr>
                                            <tr id="H2">
                                                <td><a href="#" data-id="H2" class="addDoc" data-toggle="modal" data-tableid="HDocDetails" data-key="H"><i class="icon-plus-sign"></i></a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                </div>
                <div id="HAllocHistory" class="tab-pane">
                    <br />
                    <div class="row">
                         <table class="table">
                                <thead>
                                    <tr>
                                        <th class="col-md-1">Effective Date</th>
                                        <th>Allocation Type</th>
                                        <th>Role</th>
                                        <th>Reporting To</th>
                                        <th>Comments</th>
                                    </tr>
                                </thead>
                                <tbody >
                                    <tr>
                                        <td>12-Jan-13</td>
                                        <td>Contract</td> 
                                        <td>Executive</td>
                                        <td>Sunil Garg</td>
                                        <td>Requisition Form approved by SDM</td>
                                    </tr>
                                    <tr>
                                        <td>31-Dec-13</td>
                                        <td>Permanent</td> 
                                        <td>Executive</td>
                                        <td>Sunil Garg</td>
                                        <td>Confirmed Employee</td>
                                    </tr>
                                </tbody>
                            </table>
                    </div>
                </div>
            </div>       
		</div>
		<div class="modal-footer">
		    <button type="button" class="btn gray-bg" data-dismiss="modal">Close</button>
		    <button type="button" class="btn blue-bg changeAlloc" data-dismiss="modal">Submit</button>
		</div>
	  </div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

    <div class="modal fade" id="reqHistDetails" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" style="width:800px;">
	  <div class="modal-content">
		<div class="modal-header">
		  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		  <h4 class="modal-title">Hardware Details</h4>
		</div>
		<div class="modal-body">
            <ul class="nav nav-tabs" id="Ul2">
                <li class="active"><a data-toggle="tab" href="#HDetail">Hardware Details</a></li>
                <li><a data-toggle="tab" href="#HSuppDoc">Supporting Documents</a></li>
                <li><a data-toggle="tab" href="#HAllocHist">Allocation History</a></li>
            </ul>
            <div class="tab-content" id="Div2">
                <div id="HDetail" class="tab-pane fade in active">
                    <br />
                    <br />
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Details</label>
                                <input type="text" class="form-control col-md-7" value="P4 Machines" disabled>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Justification</label>
                                <input type="text" class="form-control col-md-7" value="Added in the project estimates" disabled>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="col-md-4">Specification</label>
                                <textarea rows="2" class="form-control col-md-7" disabled>Pentium Processor, 1GB RAM, 105 GB HDD</textarea>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">From:</label>
                                <div class="input-group date datepicker col-md-7">
                                    <input type="text" class="form-control" value="01-Jan-13" disabled>
                                    <span class="input-group-addon  accordion-toggle"><i data-time-icon="icon-time" data-date-icon="icon-calendar" class="icon-calendar"></i></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">To:</label>
                                <div class="input-group date datepicker col-md-7">
                                    <input type="text" class="form-control" value="31-Dec-13" disabled>
                                    <span class="input-group-addon  accordion-toggle"><i data-time-icon="icon-time" data-date-icon="icon-calendar" class="icon-calendar"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Billable To Client</label>
                                <div class="controls col-md-7"><select class="chzn-nopadd chzn-select-no-single" disabled><option selected="selected">Yes</option> <option>No</option> <option>Shared</option></select></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4">Number</label>
                                <div class="controls col-md-7"><input type="text" class="form-control" value="3" disabled></div>
                            </div>
                        </div>
                    </div>

                </div>
                <div id="HSuppDoc" class="tab-pane">
                    <div class="row">
                        <div class="col-md-12 notification blue-bg">
                 	            <strong>Supporing Documents</strong> : Upload supporting documents here, click to close this. 
                        </div>
                    </div>
                    <br />
                    <div class="row">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th class="col-md-1"></th>
                                                <th>Doc Type</th>
                                                <th>Name</th>
                                                <th>Owner</th>
                                                <th>Remarks</th>
                                            </tr>
                                        </thead>
                                        <tbody id="Tbody1" data-count="2">
                                            <tr id="Tr1">
                                                <td></td>
                                                <td>Resource Request</td> 
                                                <td><a href="#" data-toggle="modal" class="showDocumentData">Req_Form.xls</a></td>
                                                <td>Sunil Garg</td>
                                                <td>Requisition Form approved by SDM</td>
                                            </tr>
                                            <tr id="Tr2">
                                                <td><a href="#" data-id="H2" class="addDoc" data-toggle="modal" data-tableid="HDocDetails" data-key="H"><i class="icon-plus-sign"></i></a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                </div>
                <div id="HAllocHist" class="tab-pane">
                    <br />
                    <div class="row">
                         <table class="table">
                                <thead>
                                    <tr>
                                        <th class="col-md-1">Effective Date</th>
                                        <th>Allocation Type</th>
                                        <th>Role</th>
                                        <th>Reporting To</th>
                                        <th>Comments</th>
                                    </tr>
                                </thead>
                                <tbody >
                                    <tr>
                                        <td>12-Jan-13</td>
                                        <td>Contract</td> 
                                        <td>Executive</td>
                                        <td>Sunil Garg</td>
                                        <td>Requisition Form approved by SDM</td>
                                    </tr>
                                    <tr>
                                        <td>31-Dec-13</td>
                                        <td>Permanent</td> 
                                        <td>Executive</td>
                                        <td>Sunil Garg</td>
                                        <td>Confirmed Employee</td>
                                    </tr>
                                </tbody>
                            </table>
                    </div>
                </div>
            </div>       
		</div>
		<div class="modal-footer">
		    <button type="button" class="btn gray-bg" data-dismiss="modal">Close</button>
		</div>
	  </div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
    
    
    <div class="modal fade" id="supDocDialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
	<div class="modal-dialog">
  <div class="modal-content">
	<div class="modal-header blue-bg">
	  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	  <h4 class="model-title emphasize">Add Supporting Document</h4>
	</div>
	<div class="modal-body">
		<form role="form" id="documentForm">
            <div class="row">
                <input type="hidden" id="nodeid" />
                <input type="hidden" id="tableid" />
                <input type="hidden" id="keyid" />
                <div class="col-md-6">
                    <div class="form-group">
                        <label >Document Type</label>
                        <div class="controls"><input type="text" class="form-control" id="DocType"/></div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label >Owner:</label>
                        <div class="controls"><input type="text" class="col-md-12 form-control" name="DocOwner" id="DocOwner"></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <br />
                <div class="col-md-12">
                    <div class="form-group">
                        <label>Remarks</label>
                        <div class="controls"><textarea  rows="3" class="col-md-12" name="DocRemarks" id="DocRemarks"></textarea></div>
                    </div>
                </div>
            </div>

            <div class="row">
                <br />
                <div class="col-md-12">
                    <div class="form-group">
                        <label>Select File</label>
                        <div class="controls"><input type="file" class="styled" name="DocFile" id="DocFile"></div>
                    </div>
                </div>
            </div>
		</form>
        <div class="modal-footer">
            <button type="button" class="btn gray-bg" data-dismiss="modal">Close</button>
    	    <button type="submit" class="btn blue-bg" id="saveSuppDoc">Save</button>
        </div>
    </div>
  </div><!-- /.modal-content -->	
	</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<script type="text/javascript">
	    var config = {
	        '.chzn-select': {},
	        '.chzn-select-deselect': { allow_single_deselect: false },
	        '.chzn-select-no-single': { disable_search_threshold: 10 },
	        '.chzn-select-no-results': { no_results_text: 'Oops, nothing found!' },
	        '.chzn-select-width': { width: "95%" }
	    }
	    for (var selector in config) {
	        $(selector).chosen(config[selector]);
	    }

	    $(document).on("click", ".searchProcedure", function () {
	        $("#searchResults").show("slow");
	        $('html, body').animate({
	            scrollTop: $("#searchResults").offset().top
	        }, 2000);
	    });

	    $(document).on("click", "#showAdvSearch", function () {
	        $("#advancedSearchParams").show("slow");
	    });

	    $("body").delegate(".close-adv", "click", function () {
	        $("#advancedSearchParams").hide("slow");
	    });



	    $("body").delegate(".sJoinOperator", "change", function () {
	        var count = parseInt($("#advSearchOptions").data("pcount"));
	        var options = "";

	        if ($(this).val() != 1) {
	            if ($(this).data("action") == "0") {
	                count = count + 1;
	                options = '<div class="row" id="pField' + count + '" data-rowcount="' + count + '">' +
                                    '<select class="col-lg-2 sField">' +
                                        '<option value="1">Emp Code</option>' +
                                        '<option value="2">Emp Name</option>' +
                                        '<option value="3">Designation</option>' +
                                        '<option value="4">Department</option>' +
                                        '<option value="5">Location</option>' +
                                        '<option value="6">Date of Joining</option>' +
                                    '</select>' +
                                    '<select class="col-lg-2" id="pOp' + count + '">' +
                                        '<option value="1">equal to</option>' +
                                        '<option value="2">contains</option>' +
                                    '</select>' +
                                    '<div class="col-lg-6">' +
                                        '<input type="text" class="col-lg-12 tagsinput" value="" id="pValue' + count + '"/>' +
                                    '</div>' +
                                    '<select class="col-lg-2 sJoinOperator" id="pJoin' + count + '" data-item="' + count + '" data-action="0">' +
                                        '<option value="1" selected="selected">Search Ends</option>' +
                                        '<option value="2">And</option>' +
                                        '<option value="3">Or</option>' +
                                    '</select>' +
                                '</div>';
	                $("#advSearchOptions").append(options);
	                $("#advSearchOptions").data("pcount", count);
	                $(this).data("action", "1");
	            }
	        }
	        else {
	            // Remove all items coming after this
	            var itemCount = parseInt(thisItem = $(this).data("item"));
	            $("#advSearchOptions").find(".row").each(function () {
	                if (parseInt($(this).data("rowcount")) > itemCount) $(this).remove();
	            });
	            $(this).data("action", "0");
	        }
	    });

	    $('#exitingEmployees').dataTable({
	        "sPaginationType": "bootstrap",
	        "aLengthMenu": [
                            [5, 10, 15, -1],
                            [5, 10, 15, "All"] // change per page values here
	        ],
	        // set the initial value
	        "iDisplayLength": 5
	    });

	    $('#EmpHistTable').dataTable({
	        "sPaginationType": "bootstrap",
	        "aLengthMenu": [
                            [5, 10, 15, -1],
                            [5, 10, 15, "All"] // change per page values here
	        ],
	        // set the initial value
	        "iDisplayLength": 5
	    });

	    $(document).on("click", "#saveSuppDoc", function () {
	        var nodeid = "#" + $("#nodeid").val();
	        var tableid = "#" + $("#tableid").val();
	        var keyid = $("#keyid").val();

	        var anchorNode = $(nodeid).children('td').first().children("a").first();

	        var count = parseInt($(tableid).data("count"));

	        if ($("#DocType").val() == "" || $("#DocFile").val().trim() == "" || $("#DocOwner").val().trim() == "" || $("#DocRemarks").val().trim() == "") alert("All inputs are mandatory. Pl. provide all required input.");
	        else {

	            anchorNode.removeClass("addDoc");
	            anchorNode.addClass("removeDoc");
	            anchorNode.attr("href", "#");
	            anchorNode.children("i").eq(0).removeClass("icon-plus-sign");
	            anchorNode.children("i").eq(0).addClass("icon-remove");

	            $(nodeid).append('<td>' + $("#DocType").val() + '</td> <td><a href="#" data-toggle="modal" class="showDocumentData">' + $("#DocFile").val() + '</a></td> <td>' + $("#DocOwner").val() + '</td> <td>' + $("#DocRemarks").val() + '</td>');

	            //if ((count % 2) == 0) $(nodeid).addClass("success");
	            count = count + 1;
	            $(tableid).data("count", count);

	            $(nodeid).after('<tr id="' + keyid + '' + count + '"><td><a href="#supDocDialog" data-id="' + keyid + '' + count + '" class="addDoc" data-toggle="modal"><i class="icon-plus-sign"></i></a></td></tr>');
	            $("#supDocDialog").modal('hide');

	        }

	    });

	    $("body").delegate(".addDoc", "click", function () {
	        $("#nodeid").val($(this).data("id"));
            $("#tableid").val($(this).data("tableid"));
            $("#keyid").val($(this).data("key"));

	        $("#supDocDialog").modal('show');
	    });

	    $("body").delegate(".removeDoc", "click", function () {
	        if (confirm("Do you want to remove this document ?")) {
	            $("#" + $(this).data("id")).remove();
	        }
	    });

	    $("body").delegate(".showDocumentData", "click", function () {
	        //        $("#showDocument").modal("show");
	        window.open("Documents/Projects/Example.pdf", null, "height=400,width=600,status=yes,toolbar=no,menubar=no,location=no,top=200,left=300");
	    });

	    $("body").delegate(".allocEmp", "click", function () {
	        $("#empAllocation").modal("show");
	    });

	    $("body").delegate(".empType", "change", function () {
	        if ($(this).val() != 1) $("#endDetails").show("slow");
	        else $("#endDetails").hide("slow");
	    });

	    $("body").delegate(".empType2", "change", function () {
	        if ($(this).val() != 1) $("#endDateDetails").show("slow");
	        else $("#endDateDetails").hide("slow");
	    }); 

	    $("body").delegate(".changeAlloc", "click", function () {
	        confirm("These changes will be recorded in the change history. Do you want to proceed ?");
	    });

	    $("body").delegate(".removeResource", "keydown", function (e) {
	        keypressCode = e.which;
	        keypressShift = e.shiftKey;
	    });

	    $("body").delegate(".removeResource", "click", function () {
	        if (confirm("Do you want to remove this resource ?")) {
	            $("#" + $(this).data("id")).remove();
	        }
	    });

	    $("body").delegate(".removeResource", "blur", function (e) {
	        if (keypressCode == 9 && !keypressShift) $(this).parent().parent().children().eq(1).click();
	        else {
	            if (keypressCode == 9 && keypressShift) $(this).parent().parent().prev().children().last().click();
	        }
	    });

	    $("body").delegate(".addResource", "keydown", function (e) {
	        keypressCode = e.which;
	        keypressShift = e.shiftKey;
	    });

	    $("body").delegate(".addResource", "blur", function (e) {
	        if (keypressCode == 9 && keypressShift) $(this).parent().parent().prev().children().last().click();
	    });

	    $("body").delegate(".addResource", "click", function () {
	        // add additional columns for edit
	        var count = parseInt($(this).parent().parent().parent().data("count"));
	        var nodeKey = $(this).parent().parent().parent().prop("id");
	        count = count + 1;
	        var newColumns = '<td class="resEdit" id="' + nodeKey + 'Role' + count + '" data-id="0" data-next="' + nodeKey + 'Location' + count + '" data-type="Role">Select</td>' +
                                '<td class="resEdit" id="' + nodeKey + 'Location' + count + '" data-id="0" data-next="' + nodeKey + 'From' + count + '" data-prev="' + nodeKey + 'Role' + count + '" data-type="Location">Select</td>' +
                                '<td class="resEdit" id="' + nodeKey + 'From' + count + '" data-id="" data-next="' + nodeKey + 'To' + count + '" data-prev="' + nodeKey + 'Location' + count + '" data-type="From"></td>' +
                                '<td class="resEdit" data-id="" id="' + nodeKey + 'To' + count + '" data-next="' + nodeKey + 'Count' + count + '" data-prev="' + nodeKey + 'From' + count + '" data-type="To"></td>' +
                                '<td class="resEdit" data-id="" id="' + nodeKey + 'Count' + count + '" data-next="' + nodeKey + 'APC' + count + '" data-prev="' + nodeKey + 'To' + count + '" data-type="Count"></td>' +
                                '<td class="resEdit" data-id="" id="' + nodeKey + 'APC' + count + '" data-next="' + nodeKey + 'Group' + count + '" data-prev="' + nodeKey + 'Count' + count + '" data-type="APC"></td>' +
                                '<td class="resEdit" data-id="0" id="' + nodeKey + 'Group' + count + '" data-next="' + nodeKey + 'Remarks' + count + '" data-prev="' + nodeKey + 'APC' + count + '" data-type="Group">Select</td>' +
                                '<td >' + date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear() + '</td>' +
                                '<td class="resEdit" data-id="" id="' + nodeKey + 'Remarks' + count + '" data-next="' + nodeKey + 'Type' + count + '" data-prev="' + nodeKey + 'Group' + count + '" data-type="Remarks"></td>' +
	                            '<td class="resEdit" data-id="0" id="' + nodeKey + 'Type' + count + '" data-prev="' + nodeKey + 'Remarks' + count + '" data-type="Type">Select</td>' +
	                            '<td><a href="#reqPlanAprv" class="btn btn-med gray-bg" data-toggle="modal">View</a></td>';
	        $(this).parent().after(newColumns);
	        $(this).parent().parent().parent().data("count", count);

	        // Add the option to add more rows
	        $(this).parent().parent().parent().append('<tr id="R' + count + '"><td><a href="#" class="addResource" data-id="R' + (count + 1) + '" data-count="' + (count + 1) + '"><i class="icon-">&#xf055</i></a></td></tr>');
	        $(this).removeClass("addResource");
	        $(this).addClass("removeResource");
	        $(this).children().first().html("&#xf00d");
	        $("#Resource" + count).click();
	        // Go to the new rule
	        $('html, body').animate({
	            scrollTop: $("#" + "R" + count).offset().top
	        }, 2000);

	    });

	    $("body").delegate(".resEdit", "click", function () {
	        var OriginalContent = $(this).text();
	        var OriginalValue = $(this).data("id");
	        var editItem = $(this).data("type");

	        var inputHTML = "";

	        // Prepare input based on type of column
	        switch (editItem) {
	            case "Role":
	                inputHTML = '<select><option value="0">Select</option><option value="1">Project Manager</option> <option value="2">Project Leader</option> <option value="3">Developer</option> <option value="4">Tester</option> <option value="5">Designer</option> </select>';
	                break;
	            case "Location":
	                inputHTML = '<select><option value="0">Mumbai</option><option value="1">Pune</option> <option value="2">Chennnai</option> <option value="3">Kolkatta</option> <option value="4">On-site</option> <option value="5">offsite</option> </select>';;
	                break;
	            case "From":
	                inputHTML = '<input type="text" class="dateInput" size="10">';
	                break;
	            case "To":
	                inputHTML = '<input type="text" class="dateInput" size="10">';
	                break;
	            case "Count":
	                inputHTML = '<input type="text" size="3">';
	                break;
	            case "APC":
	                inputHTML = '<input type="text" size="3" class="mask_percent">';
	                break;
	            case "Group":
	                inputHTML = '<select><option value="0">Select</option><option value="1">Design Team</option> <option value="2">Salary Processing Module</option> <option value="3">Testing Team</option></select>';;
	                break;
	            case "Remarks":
	                inputHTML = '<input type="text" size="20">';
	                break;
	            case "Type":
	                inputHTML = '<select><option value="0">Select</option><option value="1">New</option> <option value="2">Planned</option> <option value="3">Un-Planned</option> <option value="3">Re-work</option></select>';
	                break;
	        };

	        $(this).removeClass("resEdit");
	        $(this).addClass("cellEditing");
	        $(this).html(inputHTML);
	        $(this).children().val(OriginalValue);
	        $(this).children().first().focus();
	        $(this).children().first().select();
	        // Add mask for duration
	        $(".mask_percent").inputmask("999", { placeholder: " ", clearMaskOnLostFocus: true }); //default
	        $(".dateInput").inputmask("d/m/y", { "placeholder": "dd/mm/yyyy" });

	        keypressCode = -1;
	        keypressShift = false;

	        $(this).children().first().blur(function () {
	            var nextTD = $(this).parent().data("next");
	            var prevTD = $(this).parent().data("prev");

	            $(this).parent().removeClass("cellEditing");
	            $(this).parent().addClass("resEdit");
	            $(this).parent().data("id", $(this).val());
	            if ($(this).find("option:selected").length == 0) $(this).parent().text($(this).val());
	            else $(this).parent().text($(this).find("option:selected").eq(0).text());

	            if (keypressCode == 9 || keypressCode == 16) {
	                if (keypressShift) $("#" + prevTD).click();
	                else $("#" + nextTD).click();
	            }
	        });


	        $(this).children().first().on("keydown", (function (e) {
	            // check for tab key
	            if (e.which == 13) {
	                var nextTD = $(this).parent().data("next");
	                var prevTD = $(this).parent().data("prev");

	                $(this).parent().removeClass("cellEditing");
	                $(this).parent().addClass("resEdit");
	                $(this).parent().data("id", $(this).val());
	                if ($(this).find("option:selected").length == 0) $(this).parent().text($(this).val());
	                else $(this).parent().text($(this).find("option:selected").eq(0).text());
	                // Focus on the next td
	                $("#" + nextTD).click();
	            }
	            else {
	                keypressCode = e.which;
	                keypressShift = e.shiftKey;
	            }
	        }));

	    });


   </script> 

}