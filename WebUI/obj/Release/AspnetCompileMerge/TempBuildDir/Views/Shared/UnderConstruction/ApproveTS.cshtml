@{
    Layout = null;
}

@if (@User.Identity.IsAuthenticated)
{
    @Html.Action("BreadCrump", "Menu", new { id = ViewBag.FunctionID })
             	<div class="panel colored">
                    <a href="javascript:;" id="filterTS">Filter <i class="icon-">&#xf00e;</i></a>
                    <div class="panel-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-md-3">From Date</label>
                                        <div class="col-md-9">
                                            <div class="input-group date datepicker">
                                                <input type="text" id="planned_from" class="form-control">
                                                <span class="input-group-addon  accordion-toggle"><i data-time-icon="icon-time" data-date-icon="icon-calendar" class="icon-calendar"></i></span>
                                            </div>
                                        </div>
                                    </div>
                                 </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-md-3">To Date</label>
                                        <div class="col-md-9">
                                            <div class="input-group date datepicker">
                                                <input type="text" id="Text1" class="form-control">
                                                <span class="input-group-addon  accordion-toggle"><i data-time-icon="icon-time" data-date-icon="icon-calendar" class="icon-calendar"></i></span>
                                            </div>
                                    </div>
                                </div> 
                            </div>
                    </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-md-3">Select Project</label>
                                        <div class="col-md-9"><select class="col-md-12 chzn-nopadd chzn-select-no-single" id="Select1"><option value="Payroll System">Payroll System</option> <option value="Code Migration">Code Migration</option></select></div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-md-3">Group</label>
                                        <div class="col-md-9"><select class="col-md-12 chzn-nopadd chzn-select-no-single" id="Select2"><option value="Design Team">Design Team</option> <option selected="selected" value="Salary Processing Module">Salary Processing Module</option> <option value="Testing Team">Testing Team</option></select></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-md-3">Employee</label>
                                        <div class="col-md-9">
                                            <select class="col-md-12 chzn-nopadd chzn-select-deselect" id="Select3">
                                                <option value="0">All</option>
                                                <optgroup label="Design Team">
                                                    <option value="Project Management">Sanjay Mahajan</option>
                                                    <option value="Leave">Kirti Kapoor</option>
                                                    <option value="Meeting">Supriya Sule</option>
                                                    <option value="Conf.Call">Kishore Kumar</option>
                                                    <option value="Lunch">Mitesh Gandhi</option>
                                                    <option value="Idle">Shweta Patki</option>
                                                </optgroup>
                                                <optgroup label="Testing Team">
                                                    <option value="Coding for Payroll Module">Sandesh Bade</option>
                                                    <option value="Code Review">Gunjan Mehta</option>
                                                </optgroup>
                                                <optgroup label="Salary Processing">
                                                    <option value="Code Review">Kalpesh Gandhi</option>
                                                    <option>Ajay Goel</option>
                                                </optgroup>
                                            </select>
                                            <span class="help-block">Searching option (type to search)</span>
                                        </div>
                                    </div>
                                 </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-md-3">Status</label>
                                        <div class="col-md-9"><select class="col-md-12 chzn-nopadd chzn-select-no-single" id="Select4"><option value="Payroll System">Not Submitted</option> <option value="Code Migration" selected="selected">Pending Approval</option><option value="Code Migration">Approved</option><option value="Code Migration">Rejected</option></select></div>
                                    </div>
                                </div> 
                            </div>
                            <div class="row col-md-6 pull-right">
                                <div class="pull-right">
                                    <button type="button" class="btn blue-bg" data-dismiss="modal">Go</button>
                                </div>
                            </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
            	<div class="panel colored">
                    <div class="row">
                        <div class="col-md-5">
                            <h3>Timesheets</h3>
                        </div>
                        <div class="col-md-7 pull-right">
                            <ul class="pagination pull-right">
                                <li class="active"><a href="#" id="dailyView">Dialy</a></li>
                                <li><a href="#" id="weeklyView" >Weekly</a></li>
                                <li><a href="#" id="monthlyView">Monthly</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="row" id="tabDaily">
                    	    <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="advanced-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Employee</th>
                                        <th>Total Hours</th>
                                        <th>Non-Billable</th>
                                        <th>Status</th>
                                        <th>Reporting To</th>
                                        <th>View</th>
                                        <th>Approve</th>
                                        <th>Reject</th>
                                    </tr>
                                </thead>
                                <tbody>
                                        <tr>
                                            <td>01/01/2013</td> 
                                            <td>Sandeep Gupta</td> 
                                            <td><a href="#" title="Project Management (3 hrs), Review (3 hrs), Meeting (2 hrs)">8</a></td>
                                            <td>0</td> 
                                            <td class="projstatus" id="P1">Pending Approval</td> 
                                            <td>Harsh Jain</td>
                                            <td><a href="#" class="btn btn-med blue-bg showDetails" data-toggle="modal" data-emp="Sandeep Gupta" data-period="01/01/2013"><i class="icon-">&#xf06e;</i></a></td>
                                            <td><a href="#" class="btn btn-med green-bg approveProj"><i class="icon-">&#xf00c;</i></a></td>
                                            <td><a href="#confirmModal" class="btn btn-med red-bg  rejectProj" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                        </tr>
                                        <tr>
                                            <td>01/01/2013</td> 
                                            <td>Krishna Parekh</td> 
                                            <td><a href="#" title="Technical Review (3), Review (3), Meeting (2), Interviews(2)">10</a></td>
                                            <td>2</td> 
                                            <td class="projstatus" id="P2">Pending Approval</td> 
                                            <td>Harsh Jain</td>
                                            <td><a href="#" class="btn btn-med blue-bg showDetails" data-toggle="modal" data-emp="Krishna Parekh" data-period="01/01/2013"><i class="icon-">&#xf06e;</i></a></td>
                                            <td><a href="#" class="btn btn-med green-bg approveProj"><i class="icon-">&#xf00c;</i></a></td>
                                            <td><a href="#confirmModal" class="btn btn-med red-bg  rejectProj" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                        </tr>                                        <tr>
                                            <td>01/01/2013</td> 
                                            <td>Joel Dsouza</td> 
                                            <td><a href="#" title="Coding (6 hrs), Idle (2 hrs)">8</a></td>
                                            <td>2</td> 
                                            <td class="projstatus" id="P3">Pending Approval</td> 
                                            <td>Harsh Jain</td>
                                            <td><a href="#" class="btn btn-med blue-bg showDetails" data-toggle="modal" data-emp="Harsh Jain" data-period="01/01/2013"><i class="icon-">&#xf06e;</i></a></td>
                                            <td><a href="#" class="btn btn-med green-bg approveProj"><i class="icon-">&#xf00c;</i></a></td>
                                            <td><a href="#confirmModal" class="btn btn-med red-bg  rejectProj" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                        </tr>
                                </tbody>
                            </table>                            
                        </div>
                        <div class="row" id="tabWeekly">
                    	    <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="tableWeekly">
                                <thead>
                                    <tr>
                                        <th>Date Range</th>
                                        <th>Employee</th>
                                        <th>Total Hours</th>
                                        <th>Non-Billable</th>
                                        <th>Status</th>
                                        <th>Reporting To</th>
                                        <th>View</th>
                                        <th>Approve</th>
                                        <th>Reject</th>
                                    </tr>
                                </thead>
                                <tbody>
                                        <tr>
                                            <td>12/10/2014 - 18/10/2014</td> 
                                            <td>Sandeep Gupta</td> 
                                            <td><a href="#" title="Project Management (15 hrs), Review (15 hrs), Meeting (10 hrs)">40</a></td>
                                            <td>0</td> 
                                            <td class="projstatus" id="Td1">Pending Approval</td> 
                                            <td>Harsh Jain</td>
                                            <td><a href="#" class="btn btn-med blue-bg showDetails" data-toggle="modal" data-emp="Sandeep Gupta" data-period="01/01/2013"><i class="icon-">&#xf06e;</i></a></td>
                                            <td><a href="#" class="btn btn-med green-bg approveProj"><i class="icon-">&#xf00c;</i></a></td>
                                            <td><a href="#confirmModal" class="btn btn-med red-bg  rejectProj" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                        </tr>
                                        <tr>
                                            <td>12/10/2014 - 18/10/2014</td> 
                                            <td>Krishna Parekh</td> 
                                            <td><a href="#" title="Technical Review (15), Review (15), Meeting (10), Interviews(5)">45</a></td>
                                            <td>10</td> 
                                            <td class="projstatus" id="Td2">Pending Approval</td> 
                                            <td>Harsh Jain</td>
                                            <td><a href="#" class="btn btn-med blue-bg showDetails" data-toggle="modal" data-emp="Krishna Parekh" data-period="01/01/2013"><i class="icon-">&#xf06e;</i></a></td>
                                            <td><a href="#" class="btn btn-med green-bg approveProj"><i class="icon-">&#xf00c;</i></a></td>
                                            <td><a href="#confirmModal" class="btn btn-med red-bg  rejectProj" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                        </tr>                                        
                                    <tr>
                                            <td>12/10/2014 - 18/10/2014</td> 
                                            <td>Joel Dsouza</td> 
                                            <td><a href="#" title="Coding (38 hrs), Idle (2 hrs)">40</a></td>
                                            <td>10</td> 
                                            <td class="projstatus" id="Td3">Pending Approval</td> 
                                            <td>Harsh Jain</td>
                                            <td><a href="#" class="btn btn-med blue-bg showDetails" data-toggle="modal" data-emp="Harsh Jain" data-period="01/01/2013"><i class="icon-">&#xf06e;</i></a></td>
                                            <td><a href="#" class="btn btn-med green-bg approveProj"><i class="icon-">&#xf00c;</i></a></td>
                                            <td><a href="#confirmModal" class="btn btn-med red-bg  rejectProj" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                        </tr>
                                </tbody>
                            </table>                            
                        </div>
                        <div class="row" id="tabMonthly">
                    	    <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="tableMonthly">
                                <thead>
                                    <tr>
                                        <th>Month</th>
                                        <th>Employee</th>
                                        <th>Total Hours</th>
                                        <th>Non-Billable</th>
                                        <th>Status</th>
                                        <th>Reporting To</th>
                                        <th>View</th>
                                        <th>Approve</th>
                                        <th>Reject</th>
                                    </tr>
                                </thead>
                                <tbody>
                                        <tr>
                                            <td>Oct-14</td> 
                                            <td>Sandeep Gupta</td> 
                                            <td><a href="#" title="Project Management (60 hrs), Review (60 hrs), Meeting (40 hrs)">160</a></td>
                                            <td>0</td> 
                                            <td class="projstatus" id="Td4">Pending Approval</td> 
                                            <td>Harsh Jain</td>
                                            <td><a href="#" class="btn btn-med blue-bg showDetails" data-toggle="modal" data-emp="Sandeep Gupta" data-period="01/01/2013"><i class="icon-">&#xf06e;</i></a></td>
                                            <td><a href="#" class="btn btn-med green-bg approveProj"><i class="icon-">&#xf00c;</i></a></td>
                                            <td><a href="#confirmModal" class="btn btn-med red-bg  rejectProj" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                        </tr>
                                        <tr>
                                            <td>Oct-14</td> 
                                            <td>Krishna Parekh</td> 
                                            <td><a href="#" title="Technical Review (100), Review (50), Meeting (30), Interviews(20)">200</a></td>
                                            <td>40</td> 
                                            <td class="projstatus" id="Td5">Pending Approval</td> 
                                            <td>Harsh Jain</td>
                                            <td><a href="#" class="btn btn-med blue-bg showDetails" data-toggle="modal" data-emp="Krishna Parekh" data-period="01/01/2013"><i class="icon-">&#xf06e;</i></a></td>
                                            <td><a href="#" class="btn btn-med green-bg approveProj"><i class="icon-">&#xf00c;</i></a></td>
                                            <td><a href="#confirmModal" class="btn btn-med red-bg  rejectProj" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                        </tr>                                        <tr>
                                            <td>Oct-14</td> 
                                            <td>Joel Dsouza</td> 
                                            <td><a href="#" title="Coding (118 hrs), Idle (2 hrs)">120</a></td>
                                            <td>40</td> 
                                            <td class="projstatus" id="Td6">Pending Approval</td> 
                                            <td>Harsh Jain</td>
                                            <td><a href="#" class="btn btn-med blue-bg showDetails" data-toggle="modal" data-emp="Harsh Jain" data-period="01/01/2013"><i class="icon-">&#xf06e;</i></a></td>
                                            <td><a href="#" class="btn btn-med green-bg approveProj"><i class="icon-">&#xf00c;</i></a></td>
                                            <td><a href="#confirmModal" class="btn btn-med red-bg  rejectProj" role="button" data-toggle="modal"><i class="icon-">&#xf112;</i></a></td>
                                        </tr>
                                </tbody>
                            </table>                            
                        </div>
            	</div>
            </div>

                    </div>
                </div>
        </div>

    <div class="modal fade" id="viewTSDetails" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" style="width:95%;height:60%;overflow:auto;">
	  <div class="modal-content">
		<div class="modal-header">
		  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		  <h4 class="modal-title">Timesheet Details</h4>
		</div>
		<div class="modal-body">
            <div class="row">
                <div class="col-md-10">
                    <strong><span id="empName"></span></strong> -  <span id="period"></span>
                </div>
            </div>
            <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="Table1">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Project</th>
                        <th>Group</th>
                        <th>Task Type</th>
                        <th>Task</th>
                        <th>From Time</th>
                        <th>To Time</th>
                        <th>Duration (hrs)</th>
                        <th>Remarks</th>
                    </tr>
                </thead>
                <tbody>
                        <tr>
                            <td>01/01/2013</td> 
                            <td>Payroll System</td> 
                            <td>Design Team</td>
                            <td>General Task</td> 
                            <td>Project Management</td> 
                            <td>00:00</td>
                            <td>00:00</td>
                            <td>3</td>
                            <td>Routine PM activities</td>
                        </tr>
                        <tr>
                            <td>01/01/2013</td> 
                            <td>Payroll System</td> 
                            <td>Design Team</td>
                            <td>Assigned Task</td> 
                            <td>Review</td> 
                            <td>00:00</td>
                            <td>00:00</td>
                            <td>3</td>
                            <td>SRS Review</td>
                        </tr>                                        
                        <tr>
                            <td>01/01/2013</td> 
                            <td>Payroll System</td> 
                            <td>Design Team</td>
                            <td>General Task</td> 
                            <td>Meeting</td> 
                            <td>00:00</td>
                            <td>00:00</td>
                            <td>2</td>
                            <td>Status Meeting with team</td>
                        </tr>
                </tbody>
            </table>                            

		<div class="modal-footer">
		  <button type="button" class="btn gray-bg" data-dismiss="modal">Close</button>
		  <button type="button" class="btn blue-bg" data-dismiss="modal" id="Button2">Approve</button>
		  <button type="button" class="btn blue-bg" data-dismiss="modal" id="Button1">Reject</button>
		</div>
        </div>
	  </div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

    <div class="modal fade" id="reviewDetails" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
	  <div class="modal-content">
		<div class="modal-header">
		  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		  <h4 class="modal-title">Review Comments</h4>
		</div>
		<div class="modal-body">
            <div class="row">
                <div class="col-lg-12">
                    <div class="form-group">
                        <input type="hidden" id="statusID" /><input type="hidden" id="statusDesc" />
                        <label class="control-label col-lg-3"><b>Reviewer:</b></label>
                        <label class="control-label col-lg-3 pull-left">Sanjay Goel</label>
                        <label class="control-label col-lg-3"><b>Review Date: </b></label>
                        <label class="control-label col-lg-3 pull-left" id="createDate">01-Oct-13</label>
                    </div>
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="col-lg-12">
                    <div class="form-group">
                        <label class="col-lg-12"><b>Review Comments</b></label>
                        <textarea name="reviewComments" class="col-lg-12" rows="5" id="reviewComments"></textarea>                    
                    </div>
                </div>
            </div>
		</div>

		<div class="modal-footer">
		  <button type="button" class="btn gray-bg" data-dismiss="modal">Cancel</button>
		  <button type="button" class="btn blue-bg" id="saveReview">Save</button>
		</div>
	  </div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->


	<script type="text/javascript">
	    var onlyOnce = true;
	    var config = {
	        '.chzn-select': {},
	        '.chzn-select-deselect': { allow_single_deselect: false },
	        '.chzn-select-no-single': { disable_search_threshold: 10 },
	        '.chzn-select-no-results': { no_results_text: 'Oops, nothing found!' },
	        '.chzn-select-width': { width: "95%" }
	    }
	    for (var selector in config) {
	        $(selector).chosen(config[selector]);
	    }

	    $('#tableWeekly').dataTable({
	        "sPaginationType": "bootstrap",
	        "aLengthMenu": [
                            [5, 10, 15, -1],
                            [5, 10, 15, "All"] // change per page values here
	        ],
	        // set the initial value
	        "iDisplayLength": 5
	    });

	    $('#tableMonthly').dataTable({
	        "sPaginationType": "bootstrap",
	        "aLengthMenu": [
                            [5, 10, 15, -1],
                            [5, 10, 15, "All"] // change per page values here
	        ],
	        // set the initial value
	        "iDisplayLength": 5
	    });

	    $(document).on("click", "#filterTS", function () {
	        $(this).parent().children(".panel-body").eq(0).toggle("slow");
	    });

	    $("#filterTS").click();
	    $('#tabWeekly').hide();
	    $('#tabMonthly').hide();

	    $(document).on("click", "#dailyView", function () {
	        $('#tabWeekly').hide();
	        $('#tabMonthly').hide();
	        $('#tabDaily').show();
	        if (!($('#dailyView').parent().hasClass("active"))) $('#dailyView').parent().addClass("active");
	        $('#monthlyView').parent().removeClass("active");
	        $('#weeklyView').parent().removeClass("active");
	    });

	    $(document).on("click", "#weeklyView", function () {
	        $('#tabWeekly').show();
	        $('#tabMonthly').hide();
	        $('#tabDaily').hide();
	        if (!($('#weeklyView').parent().hasClass("active"))) $('#weeklyView').parent().addClass("active");
	        $('#monthlyView').parent().removeClass("active");
	        $('#dailyView').parent().removeClass("active");
	    });

	    $(document).on("click", "#monthlyView", function () {
	        $('#tabWeekly').hide();
	        $('#tabMonthly').show();
	        $('#tabDaily').hide();
	        if (!($('#monthlyView').parent().hasClass("active"))) $('#monthlyView').parent().addClass("active");
	        $('#weeklyView').parent().removeClass("active");
	        $('#dailyView').parent().removeClass("active");
	    });

	    $("body").delegate(".showDetails", "click", function () {
	        $("#empName").text($(this).data("emp"));
	        $("#period").text($(this).data("period"));
	        $("#viewTSDetails").modal("show");
	    });

	    $("body").delegate(".approveProj", "click", function () {
	        if (confirm("Do you want to approve this request ? ")) {
	            $("#statusID").val($(this).parent().parent().children(".projstatus").eq(0).prop("id"));
	            $("#statusDesc").val("Approved");
	            $("#reviewDetails").modal("show");
	        }
	    });

	    $("body").delegate("#saveReview", "click", function () {
	        var oldStatus = $("#" + $("#statusID").val()).text();
	        $("#" + $("#statusID").val()).text("(" + oldStatus + ") " + $("#statusDesc").val());
	        $("#reviewDetails").modal("hide");
	    });

	    $("body").delegate(".rejectProj", "click", function () {
	        if (confirm("Do you want to reject this request ? ")) {
	            $("#statusID").val($(this).parent().parent().children(".projstatus").eq(0).prop("id"));
	            $("#statusDesc").val("Rejected");
	            $("#reviewDetails").modal("show");
	        }
	    });

	</script> 
   
               
}