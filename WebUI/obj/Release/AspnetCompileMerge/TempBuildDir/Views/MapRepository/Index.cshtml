@using ProcessAccelerator.WebUI.Dto
@using Omu.AwesomeMvc

@{
    Layout = null;
}
            @Html.Action("BreadCrump", "Menu", new { id = ViewBag.FunctionID })
            <div class="row">
                <div class="col-md-6">
                    <div class="panel colored resizable">
                        <div class="panel-heading blue-bg">
                            <h3 class="panel-title">Organisation Structure</h3>
                            <ul class="pull-right toolbar">
                                <li><a class="icon-button expandAll" data-id="orgContainer" href="javascript:;" title="Expand All"><i class="icon-plus"></i></a></li>
                                <li><a class="icon-button collapseAll" data-id="orgContainer" href="javascript:;" title="Collapse All"><i class="icon-minus"></i></a></li>
                            </ul>
                        </div>
                        <div class="panel-body onlyScrolls" id="orgContainer">
                           <div class="row">
                                <ul class="tree">
                                    <!-- Organisation Levels -->
                                    <li>
                                        <a href="javascript:;" role="branch" class="tree-toggle closed" data-toggle="branch">
                                            <span class="label label-root">Organisation Levels</span></a>
                                        <ul class="branch"  id="OLevelStructure">
                                            <li id="L0">
                                                <a class="openDialog" data-toggle="modal" id="newNode" href="javascript:;" data-id="" data-source="@Url.Action("Create", new {level=1,parent=0})">Add Node</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <!-- Project Types -->
                                    <li>
                                        <a href="javascript:;" role="branch" class="tree-toggle closed" data-toggle="branch"><span class="label label-root">Project Classification</span></a>
                                        @Html.Action("getConfigForMapping","OrgProjType")
                                    </li>
                                    <!-- Functions -->
                                    <li>
                                        <a href="javascript:;" role="branch" class="tree-toggle closed" data-toggle="branch"><span class="label label-root">Functions</span></a>
                                        @Html.Action("getConfigForMapping","OrgFunction")
                                    </li>
                      	        </ul>
                           </div>
                        </div>
                    </div>                
                </div>
                <div class="col-md-6" id="repositoryTree">
                    <div class="panel colored resizable">
                        <div class="panel-heading purple-bg">
                            <h3 class="panel-title" id="selectedNode">Click <i class="icon-wrench"></i> icon to configure processes.</h3>
                            <ul class="pull-right toolbar">
                                <li><a class="icon-button expandAll" data-id="PConfiguration" href="javascript:;" title="Expand All"><i class="icon-plus"></i></a></li>
                                <li><a class="icon-button collapseAll" data-id="PConfiguration" href="javascript:;" title="Collapse All"><i class="icon-minus"></i></a></li>
                            </ul>
                        </div>
                        <div class="panel-body onlyScrolls" id="processContainer" data-param="" data-value="">
                            <div class="row">
                                <ul class="col-md-8 tree" id="PConfiguration">
                                </ul>
                            </div>
                        </div>
                    </div>                
                </div>
            </div>

<script>
    printStructureForMapping("@Url.Action("getStructure","OConfiguration")", "OLevelStructure", "showMapping");
    printConfigForMapping("@Url.Action("getRepositoryForMapping", "PConfiguration")", "PConfiguration", "mapProcess");
</script>


